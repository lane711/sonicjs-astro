---
import { apiConfig } from '../../../db/routes';
import AdminLayout from '../layouts/admin-layout.astro';
import TableComponent from '../../../components/table';
import { getFieldDefinitions } from '../../../services/fields';

const { table } = Astro.params;
const tableConfigRecord = apiConfig.find((t) => t.route === table);
if (!tableConfigRecord) {
  return;
}
const formFields = getFieldDefinitions(tableConfigRecord);
---

<AdminLayout title=`SonicJs Admin` | {table} `>
  <TableComponent
    client:load
    tableConfig={tableConfigRecord}
    formFields={formFields}
  />
</AdminLayout>
